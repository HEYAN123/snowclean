# 1. 扫雪工作管理系统

<!-- TOC -->

- [1. 扫雪工作管理](#1-扫雪工作管理)
  - [1.1. 登录](#11-登录)
    - [1.1.1 首次登录修改密码](#111-首次登录修改密码)
    - [1.1.2 正常登登录](#112-正常登录)
  - [1.2. 荣誉墙](#12-荣誉墙)
    - [1.2.1 获取荣誉墙](#121-获取荣誉墙)
    - [1.2.2 投票动作](#122-投票动作)
    - [1.2.3 获取投票状态](#123-获取投票状态)
  - [1.3. 雪情论坛](#13-雪情论坛)
    - [1.3.1 获取雪情列表](#131-获取雪情列表)
    - [1.3.2 查看雪情内容](#132-查看雪情内容)
    - [1.3.3 发表雪情](#133-发表雪情)
    - [1.3.4 发表评论](#134-发表评论)
  - [1.4. 绩效考察](#14-绩效考察)
    - [1.4.1 获取绩效列表](#141-获取绩效列表)
  - [1.5. 员工端](#15-员工端)
    - [1.5.1 个人信息登记](#151-个人信息登记)
    - [1.5.2 个人状态更新](#152-个人状态更新)
        - [1.5.2.1 工作前打卡](#1521-工作前打卡)
        - [1.5.2.2 工作后打卡](#1522-工作后打卡)
        - [1.5.2.3 请假](#1523-请假)
    - [1.5.3 获取任务](#153-获取任务)
  - [1.6. 组长端](#16-组长端)
    - [1.6.1 查询任务列表](#161-查询任务列表)
    - [1.6.2 查看任务内容](#162-查看任务内容)
    - [1.6.3 借调](#163-借调)
    - [1.6.4 更新组员工作进度](#164-更新组员工作进度)
    - [1.6.5 显示系统记录](#165-显示系统记录)
    - [1.6.6 对组员打分](#166-对组员打分)
    - [1.6.7 分配组员任务](#167-分配组员任务)
  - [1.7. 审批端](#17-审批端)
    - [1.7.1 登记车辆基本信息](#171-登记车辆基本信息)
    - [1.7.2 登记工具基本信息](#172-登记工具基本信息)
    - [1.7.3 分配小组任务](#173-分配小组任务)
    - [1.7.4 获取申请列表](#174-获取申请列表)
    - [1.7.5 查看申请内容](#175-查看申请内容)
    - [1.7.6 申请处理](#176-申请处理)
    - [1.7.7 查看平均进度](#177-查看平均进度)
    - [1.7.8 开放打分系统](#178-开放打分系统)
    - [1.7.9 对小组打分](#179-对小组打分)
    - [1.7.10 开放投票系统](#1710-开放投票系统)
    - [1.7.11 投票](#1711-投票)


<!-- /TOC -->

## 1.1. 登录

### 1.1.1 首次登录修改密码

- POST /snow/changepw
- 初始密码为123456，账号为身份证后六位
- payload :

```json
{
    "userId": "160023",
    "passWord" : "abcdefg123"
}
```

- return :
  - type: A = 普通组员 | B = 组长 | C = 管理员

```json
{
    "code" : 0
}
```

---

### 1.1.2 正常登录

- POST /snow/login
- payload :

```json
{
    "userId": "160023",
    "passWord" : "abcdefg123"
}
```

- return :
  - type: A = 普通组员 | B = 组长 | C = 管理员

```json
{
    "code" : 0,
    "type" : "A",
    "token" : "s24gj3h4g53j4f5kh3f"
}
```

---

## 1.2. 荣誉墙

### 1.2.1 获取荣誉墙

- GET /snow/honor

- return :
- 按所得票数vote由大到小排序返回

```json
{
    "code" : 0,
    "data" : [
      {
        "userId": "123",
        "userName":"贺妍",
        "vote": 23
      },
      {
        "userId": "321",
        "userName":"小李",
        "vote": 22
      },
      {
        "userId": "222",
        "userName":"小张",
        "vote": 20
      }
    ]
}
```

---

### 1.2.2 投票动作

- GET /match/vote?from=&to=
- from: 谁投的
- to: 给谁投的

- return :

```json
{
    "code" : 0
}
```

---

### 1.2.3 获取投票状态

- GET /snow/voteState/{userId}

- return :
  - state: 0 = 未投票 | 1 = 已投票

```json
{
    "code" : 0,
    "state" : 0
}
```

---

## 1.3. 雪情论坛

### 1.3.1 获取雪情列表

- GET /snow/snowList
  - page = 1 当前第几页
  - 按时间先后顺序排序（越接近现在的越排前）

- return :
  - score: null = 五个评委还没有都评完 | 92 = 已出分
  - honor: null = 未出分 | “二等奖” = 计算出的所得奖项

```json
{
  "code": 0,
  "data": {
    "snowList":[
      {
        "snowId": 123,
        "title": "和兴路重大雪灾",
        "content": "严重严重严重",
        "time": "2019/4/4 9:00:23",
        "author": "贺妍",
      },
      {
        "snowId": 123,
        "title": "和兴路重大雪灾",
        "content": "严重严重严重",
        "time": "2019/4/4 9:00:23",
        "author": "贺妍",
        "honor": null,
      }
    ],
    "page": {
      "totalSize": 25,
      "totalPage": 10,
      "eachPage": 5,
      "nowPage": 1
    }
  }
}
```

---

### 1.3.2 查看雪情内容

- GET /snow/snowContent?snowId=

- return :

```json
{
  "code": 0,
  "data": {
    "snowId": 123,
    "title": "重大事件",
    "content" : "严重严重严重",
    "time" : "2019/4/4 12:00:00",
    "author": "贺妍",
    "comments": {
      "commentList": [
        {
          "commentId": "123",
          "content": "已上报",
          "time" : "2019/4/4 12:00:00",
          "author": "小李"
        },
        {
          "commentId": "123",
          "content": "已上报",
          "time" : "2019/4/4 12:00:00",
          "author": "小李"
        },
        {
          "commentId": "123",
          "content": "已上报",
          "time" : "2019/4/4 12:00:00",
          "author": "小李"
        },
      ],
      "page":{
        "totalSize": 25,
        "totalPage": 10,
        "eachPage": 5,
        "nowPage": 1
      }
    }
  }
}
```

---

### 1.3.3 发表雪情

- POST /snow/newSnow
- payload:

```json
{
    "userId": "234232342",
    "title": "重大事件",
    "content": "林大来水了",
}
```

- return :
- 后台生成时间并存入数据库

```json
{
    "code" : 0
}
```

---

### 1.3.4 发表评论

- POST /snow/newComment
- payload:

```json
{
    "userId": "1322132432",
    "content": "hhhhhhhhhhhhhhh"
}
```

- return :

```json
{
    "code": 0
}
```

---

### 1.3.5 发布通知

- POST /match/news

```json
{
    "newsTitle": "比赛须知",
    "newsTime": "2019-4-25",
    "newsContent": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
}
```

- return :

```json
{
    "code" : 0
}
```

---
